<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DevShot</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="app">
    <!-- Top Bar: Settings & Gallery -->
    <header class="header">
      <div class="logo-title">
        <img src="../icons/icon-48.png" alt="DevShot" class="logo-img">
        <h1 class="logo-text">DevShot</h1>
      </div>
      <div class="header-actions">
        <button class="icon-btn" id="btn-gallery" title="Gallery">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>
        </button>
        <button class="icon-btn" id="btn-settings" title="Settings">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.72V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.1a2 2 0 0 1-1-1.72v-.51a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.72V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
        </button>
      </div>
    </header>

    <!-- Main Controller -->
    <main class="main">
      <!-- Quick Options -->
      <section class="section-options">
        <div class="option-row">
          <div class="option-label">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
            <span>Delay</span>
          </div>
          <select id="delay-select" class="select-minimal">
            <option value="0">None</option>
            <option value="2000">2s</option>
            <option value="3000" selected>3s</option>
            <option value="5000">5s</option>
          </select>
        </div>
      </section>

      <!-- Capture Modes Grid -->
      <div class="capture-section">
        <div class="section-header">
          <span class="section-title">Devices</span>
          <div class="section-utils">
            <button id="multi-select-all" class="text-btn">All</button>
            <button id="multi-select-none" class="text-btn">Clear</button>
          </div>
        </div>
        
        <div class="capture-grid" id="capture-grid">
          <!-- Desktop Group -->
          <div class="device-card" data-device="desktop">
            <div class="device-info">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="3" rx="2"/><line x1="8" x2="16" y1="21" y2="21"/><line x1="12" x2="12" y1="17" y2="21"/></svg>
              <span>Desktop</span>
            </div>
            <div class="device-toggles">
              <button class="tile" data-type="desktop-viewport" title="Viewport">VP</button>
              <button class="tile" data-type="desktop-fullpage" title="Full Page">FP</button>
            </div>
          </div>

          <!-- Mobile Group -->
          <div class="device-card" data-device="mobile">
            <div class="device-info">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></svg>
              <span>Mobile</span>
            </div>
            <div class="device-toggles">
              <button class="tile" data-type="mobile-viewport" title="Viewport">VP</button>
              <button class="tile" data-type="mobile-fullpage" title="Full Page">FP</button>
            </div>
          </div>

          <!-- Tablet Group -->
          <div class="device-card" data-device="tablet">
            <div class="device-info">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="16" height="20" x="4" y="2" rx="2" ry="2"/><line x1="12" x2="12.01" y1="18" y2="18"/></svg>
              <span>Tablet</span>
            </div>
            <div class="device-toggles">
              <button class="tile" data-type="tablet-viewport" title="Viewport">VP</button>
              <button class="tile" data-type="tablet-fullpage" title="Full Page">FP</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Action Footer -->
        <button class="primary-btn" id="btn-bundle" disabled>
          <span class="btn-shine"></span>
          <span class="btn-text" id="bundle-text">üöÄ Capture Selected (<span id="multi-count">0</span>)</span>
        </button>

        <div class="secondary-actions">
          <button class="ghost-btn" id="btn-batch-urls">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
            <span>Batch</span>
          </button>
          <button class="ghost-btn" id="btn-record">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.934a.5.5 0 0 0-.777-.416L16 11"/><rect width="12" height="12" x="2" y="6" rx="2"/></svg>
            <span id="record-text">Scroll</span>
          </button>
        </div>
      </footer>
    </main>

    <!-- Support Bar -->
    <div class="support-bar">
      <a href="https://github.com/Hamzaisadev/DevShot" target="_blank" class="util-link">‚≠ê Star</a>
      <a href="https://buymeacoffee.com/albatix" target="_blank" class="util-link support-accent">‚òï Coffee</a>
      <span class="made-by">by Albatix</span>
    </div>

    <!-- Status Toast -->
    <div class="status-toast" id="status"></div>

    <!-- Batch Modal -->
    <div class="modal" id="batch-modal">
      <div class="modal-content glass-effect">
        <div class="modal-header">
          <h3>üåê Batch Capture</h3>
          <button class="close-btn" id="batch-close">‚úï</button>
        </div>
        <div class="modal-body">
          <textarea id="batch-urls" placeholder="Enter URLs (one per line)..." rows="3"></textarea>
          
          <div class="type-selector">
            <label>Capture Types:</label>
            <div class="cb-grid">
              <label class="cb-item"><input type="checkbox" id="cb-desktop-viewport" checked> Desktop V</label>
              <label class="cb-item"><input type="checkbox" id="cb-desktop-fullpage"> Desktop F</label>
              <label class="cb-item"><input type="checkbox" id="cb-mobile-viewport" checked> Mobile V</label>
              <label class="cb-item"><input type="checkbox" id="cb-mobile-fullpage"> Mobile F</label>
              <label class="cb-item"><input type="checkbox" id="cb-tablet-viewport"> Tablet V</label>
              <label class="cb-item"><input type="checkbox" id="cb-tablet-fullpage"> Tablet F</label>
              <label class="cb-item"><input type="checkbox" id="cb-video"> Video (Semi)</label>
            </div>
            <div class="cb-utils">
              <button id="select-all-types" class="mini-btn">All</button>
              <button id="select-viewports" class="mini-btn">Viewports</button>
              <button id="select-none" class="mini-btn">None</button>
            </div>
          </div>
          <div id="batch-progress" class="progress-info"></div>
        </div>
        <div class="modal-footer">
          <button class="btn-outline" id="batch-cancel">Cancel</button>
          <button class="btn-primary" id="batch-start">üöÄ Start</button>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
